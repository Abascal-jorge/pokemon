{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\jorge\\\\Documents\\\\Programacion Web\\\\HTML\\\\pokemon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\jorge\\\\Documents\\\\Programacion Web\\\\HTML\\\\pokemon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Users\\\\jorge\\\\Documents\\\\Programacion Web\\\\HTML\\\\pokemon\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useReducer,useEffect}from'react';import pokemonContext from\"./pokemonContext\";import pokemonReducer from\"./pokemonReducer\";import axios from\"axios\";import{OBTENER_NOMBRE,DATOS_API,ERROR_DATOS,SPINNER_DATOS}from\"../type\";var PokemonState=function PokemonState(props){var initialstate={nombre:null,resultado:null,error:false,spinner:false};var _useReducer=useReducer(pokemonReducer,initialstate),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var obtenerNombre=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(nombre){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:OBTENER_NOMBRE,payload:nombre});case 1:case\"end\":return _context.stop();}}},_callee);}));return function obtenerNombre(_x){return _ref.apply(this,arguments);};}();useEffect(function(){if(state.nombre===null)return;var llamandoAPI=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,datoobtenido;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=\"https://pokeapi.co/api/v2/pokemon/\".concat(state.nombre,\"/\");_context2.next=3;return axios.get(url);case 3:datoobtenido=_context2.sent;dispatch({type:DATOS_API,payload:datoobtenido});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function llamandoAPI(){return _ref2.apply(this,arguments);};}();spinnerdatos(true);setTimeout(function(){spinnerdatos(false);},3000);llamandoAPI();},[state.nombre]);//VACIAR DATOS API\nvar errorDatos=function errorDatos(){dispatch({type:ERROR_DATOS,payload:true});setTimeout(function(){dispatch({type:ERROR_DATOS,payload:false});},5000);};//Activar spinner \nvar spinnerdatos=function spinnerdatos(estado){dispatch({type:SPINNER_DATOS,payload:estado});};return/*#__PURE__*/React.createElement(pokemonContext.Provider,{value:{resultado:state.resultado,error:state.error,spinner:state.spinner,obtenerNombre:obtenerNombre,errorDatos:errorDatos}},props.children);};export default PokemonState;","map":{"version":3,"sources":["C:/Users/jorge/Documents/Programacion Web/HTML/pokemon/src/context/pokemonState.js"],"names":["React","useReducer","useEffect","pokemonContext","pokemonReducer","axios","OBTENER_NOMBRE","DATOS_API","ERROR_DATOS","SPINNER_DATOS","PokemonState","props","initialstate","nombre","resultado","error","spinner","state","dispatch","obtenerNombre","type","payload","llamandoAPI","url","get","datoobtenido","spinnerdatos","setTimeout","errorDatos","estado","children"],"mappings":"qiBAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,KAA6C,OAA7C,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,cAAR,CACQC,SADR,CAEQC,WAFR,CAGQC,aAHR,KAG4B,SAH5B,CAKA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAE5B,GAAMC,CAAAA,YAAY,CAAG,CACjBC,MAAM,CAAE,IADS,CAEjBC,SAAS,CAAE,IAFM,CAGjBC,KAAK,CAAE,KAHU,CAIjBC,OAAO,CAAE,KAJQ,CAArB,CAF4B,gBASFf,UAAU,CAACG,cAAD,CAAiBQ,YAAjB,CATR,4CASrBK,KATqB,iBASdC,QATc,iBAW5B,GAAMC,CAAAA,aAAa,0FAAG,iBAAMN,MAAN,kHAClBK,QAAQ,CAAC,CACLE,IAAI,CAAEd,cADD,CAELe,OAAO,CAAER,MAFJ,CAAD,CAAR,CADkB,sDAAH,kBAAbM,CAAAA,aAAa,4CAAnB,CAOAjB,SAAS,CAAC,UAAM,CACZ,GAAIe,KAAK,CAACJ,MAAN,GAAiB,IAArB,CAA2B,OAC3B,GAAMS,CAAAA,WAAW,2FAAG,6JACVC,GADU,6CACiCN,KAAK,CAACJ,MADvC,6BAGWR,CAAAA,KAAK,CAACmB,GAAN,CAAUD,GAAV,CAHX,QAGVE,YAHU,gBAIhBP,QAAQ,CAAC,CACLE,IAAI,CAAEb,SADD,CAELc,OAAO,CAAEI,YAFJ,CAAD,CAAR,CAJgB,wDAAH,kBAAXH,CAAAA,WAAW,2CAAjB,CASAI,YAAY,CAAC,IAAD,CAAZ,CACAC,UAAU,CAAC,UAAM,CACbD,YAAY,CAAC,KAAD,CAAZ,CACH,CAFS,CAEP,IAFO,CAAV,CAGAJ,WAAW,GACd,CAhBQ,CAgBN,CAACL,KAAK,CAACJ,MAAP,CAhBM,CAAT,CAkBA;AACA,GAAMe,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAI,CAEnBV,QAAQ,CAAC,CACLE,IAAI,CAAEZ,WADD,CAELa,OAAO,CAAE,IAFJ,CAAD,CAAR,CAKAM,UAAU,CAAC,UAAM,CACbT,QAAQ,CAAC,CACLE,IAAI,CAAEZ,WADD,CAELa,OAAO,CAAE,KAFJ,CAAD,CAAR,CAIH,CALS,CAKP,IALO,CAAV,CAMH,CAbD,CAcA;AACA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACG,MAAD,CAAW,CAC5BX,QAAQ,CAAC,CACLE,IAAI,CAAEX,aADD,CAELY,OAAO,CAAEQ,MAFJ,CAAD,CAAR,CAIH,CALD,CAOA,mBACI,oBAAC,cAAD,CAAgB,QAAhB,EACI,KAAK,CAAE,CACHf,SAAS,CAAEG,KAAK,CAACH,SADd,CAEHC,KAAK,CAAEE,KAAK,CAACF,KAFV,CAGHC,OAAO,CAAEC,KAAK,CAACD,OAHZ,CAIHG,aAAa,CAAbA,aAJG,CAKHS,UAAU,CAAVA,UALG,CADX,EASKjB,KAAK,CAACmB,QATX,CADJ,CAaH,CAxED,CA0EA,cAAepB,CAAAA,YAAf","sourcesContent":["import React, { useReducer, useEffect } from 'react';\r\nimport pokemonContext from \"./pokemonContext\";\r\nimport pokemonReducer from \"./pokemonReducer\";\r\nimport axios from \"axios\";\r\nimport {OBTENER_NOMBRE,\r\n        DATOS_API,\r\n        ERROR_DATOS,\r\n        SPINNER_DATOS} from \"../type\";\r\n\r\nconst PokemonState = (props) => {\r\n\r\n    const initialstate = {\r\n        nombre: null,\r\n        resultado: null,\r\n        error: false,\r\n        spinner: false\r\n    }\r\n\r\n    const [state, dispatch] = useReducer(pokemonReducer, initialstate);\r\n\r\n    const obtenerNombre = async nombre => {\r\n        dispatch({\r\n            type: OBTENER_NOMBRE,\r\n            payload: nombre\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (state.nombre === null) return;\r\n        const llamandoAPI = async () => {\r\n            const url = `https://pokeapi.co/api/v2/pokemon/${state.nombre}/`;\r\n    \r\n            const datoobtenido = await axios.get(url);\r\n            dispatch({\r\n                type: DATOS_API,\r\n                payload: datoobtenido\r\n            });\r\n        }\r\n        spinnerdatos(true);\r\n        setTimeout(() => {\r\n            spinnerdatos(false);\r\n        }, 3000);\r\n        llamandoAPI();\r\n    }, [state.nombre]);\r\n\r\n    //VACIAR DATOS API\r\n    const errorDatos = ()=>{\r\n\r\n        dispatch({\r\n            type: ERROR_DATOS,\r\n            payload: true\r\n        });\r\n\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: ERROR_DATOS,\r\n                payload: false\r\n            });\r\n        }, 5000);\r\n    }\r\n    //Activar spinner \r\n    const spinnerdatos = (estado) =>{\r\n        dispatch({\r\n            type: SPINNER_DATOS,\r\n            payload: estado\r\n        });\r\n    }\r\n\r\n    return ( \r\n        <pokemonContext.Provider\r\n            value={{\r\n                resultado: state.resultado,\r\n                error: state.error,\r\n                spinner: state.spinner,\r\n                obtenerNombre,\r\n                errorDatos\r\n            }}\r\n        >\r\n            {props.children}\r\n        </pokemonContext.Provider>\r\n     );\r\n}\r\n \r\nexport default PokemonState;"]},"metadata":{},"sourceType":"module"}