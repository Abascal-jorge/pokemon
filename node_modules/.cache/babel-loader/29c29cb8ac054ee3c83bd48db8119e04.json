{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jorge\\\\Documents\\\\Programacion Web\\\\HTML\\\\pokemon\\\\src\\\\context\\\\pokemonState.js\";\nimport React, { useReducer, useEffect } from 'react';\nimport pokemonContext from \"./pokemonContext\";\nimport pokemonReducer from \"./pokemonReducer\";\nimport axios from \"axios\";\nimport { OBTENER_NOMBRE, DATOS_API, ERROR_DATOS, SPINNER_DATOS } from \"../type\";\n\nconst PokemonState = props => {\n  const initialstate = {\n    nombre: null,\n    resultado: null,\n    error: false,\n    spinner: false\n  };\n  const [state, dispatch] = useReducer(pokemonReducer, initialstate);\n\n  const obtenerNombre = async nombre => {\n    dispatch({\n      type: OBTENER_NOMBRE,\n      payload: nombre\n    });\n  };\n\n  useEffect(() => {\n    if (state.nombre === null) return;\n\n    const llamandoAPI = async () => {\n      const url = `https://pokeapi.co/api/v2/pokemon/${state.nombre}/`;\n      const datoobtenido = await axios.get(url);\n      dispatch({\n        type: DATOS_API,\n        payload: datoobtenido\n      });\n    };\n\n    llamandoAPI();\n  }, [state.nombre]); //VACIAR DATOS API\n\n  const errorDatos = () => {\n    dispatch({\n      type: ERROR_DATOS,\n      payload: true\n    });\n    setTimeout(() => {\n      dispatch({\n        type: ERROR_DATOS,\n        payload: false\n      });\n    }, 5000);\n  }; //Activar spinner \n\n\n  const spinnerdatos = estado => {\n    dispatch({\n      type: SPINNER_DATOS,\n      payload: estado\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(pokemonContext.Provider, {\n    value: {\n      resultado: state.resultado,\n      error: state.error,\n      obtenerNombre,\n      errorDatos\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, props.children);\n};\n\nexport default PokemonState;","map":{"version":3,"sources":["C:/Users/jorge/Documents/Programacion Web/HTML/pokemon/src/context/pokemonState.js"],"names":["React","useReducer","useEffect","pokemonContext","pokemonReducer","axios","OBTENER_NOMBRE","DATOS_API","ERROR_DATOS","SPINNER_DATOS","PokemonState","props","initialstate","nombre","resultado","error","spinner","state","dispatch","obtenerNombre","type","payload","llamandoAPI","url","datoobtenido","get","errorDatos","setTimeout","spinnerdatos","estado","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,cAAR,EACQC,SADR,EAEQC,WAFR,EAGQC,aAHR,QAG4B,SAH5B;;AAKA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAE5B,QAAMC,YAAY,GAAG;AACjBC,IAAAA,MAAM,EAAE,IADS;AAEjBC,IAAAA,SAAS,EAAE,IAFM;AAGjBC,IAAAA,KAAK,EAAE,KAHU;AAIjBC,IAAAA,OAAO,EAAE;AAJQ,GAArB;AAOA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBjB,UAAU,CAACG,cAAD,EAAiBQ,YAAjB,CAApC;;AAEA,QAAMO,aAAa,GAAG,MAAMN,MAAN,IAAgB;AAClCK,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAEd,cADD;AAELe,MAAAA,OAAO,EAAER;AAFJ,KAAD,CAAR;AAIH,GALD;;AAOAX,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIe,KAAK,CAACJ,MAAN,KAAiB,IAArB,EAA2B;;AAC3B,UAAMS,WAAW,GAAG,YAAY;AAC5B,YAAMC,GAAG,GAAI,qCAAoCN,KAAK,CAACJ,MAAO,GAA9D;AAEA,YAAMW,YAAY,GAAG,MAAMnB,KAAK,CAACoB,GAAN,CAAUF,GAAV,CAA3B;AACAL,MAAAA,QAAQ,CAAC;AACLE,QAAAA,IAAI,EAAEb,SADD;AAELc,QAAAA,OAAO,EAAEG;AAFJ,OAAD,CAAR;AAIH,KARD;;AASAF,IAAAA,WAAW;AACd,GAZQ,EAYN,CAACL,KAAK,CAACJ,MAAP,CAZM,CAAT,CAlB4B,CAgC5B;;AACA,QAAMa,UAAU,GAAG,MAAI;AAEnBR,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAEZ,WADD;AAELa,MAAAA,OAAO,EAAE;AAFJ,KAAD,CAAR;AAKAM,IAAAA,UAAU,CAAC,MAAM;AACbT,MAAAA,QAAQ,CAAC;AACLE,QAAAA,IAAI,EAAEZ,WADD;AAELa,QAAAA,OAAO,EAAE;AAFJ,OAAD,CAAR;AAIH,KALS,EAKP,IALO,CAAV;AAMH,GAbD,CAjC4B,CA+C5B;;;AACA,QAAMO,YAAY,GAAIC,MAAD,IAAW;AAC5BX,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAEX,aADD;AAELY,MAAAA,OAAO,EAAEQ;AAFJ,KAAD,CAAR;AAIH,GALD;;AAOA,sBACI,oBAAC,cAAD,CAAgB,QAAhB;AACI,IAAA,KAAK,EAAE;AACHf,MAAAA,SAAS,EAAEG,KAAK,CAACH,SADd;AAEHC,MAAAA,KAAK,EAAEE,KAAK,CAACF,KAFV;AAGHI,MAAAA,aAHG;AAIHO,MAAAA;AAJG,KADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQKf,KAAK,CAACmB,QARX,CADJ;AAYH,CAnED;;AAqEA,eAAepB,YAAf","sourcesContent":["import React, { useReducer, useEffect } from 'react';\r\nimport pokemonContext from \"./pokemonContext\";\r\nimport pokemonReducer from \"./pokemonReducer\";\r\nimport axios from \"axios\";\r\nimport {OBTENER_NOMBRE,\r\n        DATOS_API,\r\n        ERROR_DATOS,\r\n        SPINNER_DATOS} from \"../type\";\r\n\r\nconst PokemonState = (props) => {\r\n\r\n    const initialstate = {\r\n        nombre: null,\r\n        resultado: null,\r\n        error: false,\r\n        spinner: false\r\n    }\r\n\r\n    const [state, dispatch] = useReducer(pokemonReducer, initialstate);\r\n\r\n    const obtenerNombre = async nombre => {\r\n        dispatch({\r\n            type: OBTENER_NOMBRE,\r\n            payload: nombre\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (state.nombre === null) return;\r\n        const llamandoAPI = async () => {\r\n            const url = `https://pokeapi.co/api/v2/pokemon/${state.nombre}/`;\r\n    \r\n            const datoobtenido = await axios.get(url);\r\n            dispatch({\r\n                type: DATOS_API,\r\n                payload: datoobtenido\r\n            });\r\n        }\r\n        llamandoAPI();\r\n    }, [state.nombre]);\r\n\r\n    //VACIAR DATOS API\r\n    const errorDatos = ()=>{\r\n\r\n        dispatch({\r\n            type: ERROR_DATOS,\r\n            payload: true\r\n        });\r\n\r\n        setTimeout(() => {\r\n            dispatch({\r\n                type: ERROR_DATOS,\r\n                payload: false\r\n            });\r\n        }, 5000);\r\n    }\r\n    //Activar spinner \r\n    const spinnerdatos = (estado) =>{\r\n        dispatch({\r\n            type: SPINNER_DATOS,\r\n            payload: estado\r\n        });\r\n    }\r\n\r\n    return ( \r\n        <pokemonContext.Provider\r\n            value={{\r\n                resultado: state.resultado,\r\n                error: state.error,\r\n                obtenerNombre,\r\n                errorDatos\r\n            }}\r\n        >\r\n            {props.children}\r\n        </pokemonContext.Provider>\r\n     );\r\n}\r\n \r\nexport default PokemonState;"]},"metadata":{},"sourceType":"module"}